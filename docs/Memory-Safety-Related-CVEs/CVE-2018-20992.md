# CVE-2018-20992

## Metadata

- RustSec: https://rustsec.org/advisories/RUSTSEC-2018-0004.html
- Mitre: https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-20992
- Bug Report GitHub Issue/Release: https://github.com/ruuda/claxon/issues/10
- Bug Fix GitHub Commit/PR: https://github.com/rustsec/advisory-db/pull/54

## Source

```rust
fn ensure_buffer_len(mut buffer: Vec<i32>, new_len: usize) -> Vec<i32> {
    if buffer.len() < new_len {
        if buffer.capacity() < new_len {
            buffer = Vec::with_capacity(new_len);
        }
        unsafe { buffer.set_len(new_len); }
    } else {
        buffer.truncate(new_len);
    }
    buffer
}
```

## Description / Analysis

Use of uninitialized data (from `buffer.len()` to `new_len`.

`set_len` 's safety requirements are:

- new_len must be less than or equal to capacity().
- The elements at old_len..new_len must be initialized.

## Fixes

TODO

## Pattern Description

TODO
